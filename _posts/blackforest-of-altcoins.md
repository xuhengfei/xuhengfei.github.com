---
layout: blog
title: [转]电子货币的黑暗森林
category: tech
excerpt: 
---
原文地址：<a href="http://velaciela.ms/blackforest_of_altcoins" target="_blank">http://velaciela.ms/blackforest_of_altcoins</a>

最近，一种叫狗币的Scrypt新币引起了大家的关注，据说是个国外的笑话，弄了弄就当真了，搞了一个dogecoin，还炒的挺贵，一时间网络算力大增到3万MH/S（Scrypt算法单位，下同），而同期老牌的Scrypt币LTC算力却出现了下降，从9万下跌到了8万多，显然狗币分流了LTC的算力。

让我非常吃惊的是，LTC建立这9万MH/S的算力，用了2年多时间，而狗币达到接近4万，只用了一周多的时间。因为我之前写文章说LTC可能有优势，没想到这个所谓的优势如此脆弱。不管LTC在公平或者什么其他方面上有没有优点，对于一个电子币而言第一位的是安全，如果一个币种的算力能轻易被竞争币抢走，那就不具有数学上的合法性，从而动摇了根本。从这点来说，我对LTC及所有Scrypt（下称显卡币，下同）产生了一些怀疑。

下面我尝试从算力分布和算法对币种竞争的作用分析这个问题。（均指POW，下同）

从矿工角度上说：

假设所有矿工都是经济理性人，以法币收益最大化为目标。即卖掉全部挖出的电子币。那么，对于币种的选择也是无偏好的，在矿机能挖的情况下，选择法币收益最大的币种。

比特币矿机的情况很简单，只能挖比特币，几乎没有其他有价值的SHA256币种。（至于为什么下面说）

而显卡矿机的选择就很多了。但是注意，法币收益最大化不等于价格最高，因为高价格的币种难度也大，单位算力所得少。在衡量全部因素的情况下，矿工优先选择总收益最大的，即【单位算力所得币数X价格】最高的。

假设市场上有LTC和DOG两种参数全部相同的显卡币，其中DOG是LTC价格的十分之一，难度也是LTC的十分之一，在价格不变的情况下，对于显卡矿工而言这是等效的。理论上说挖LTC的多一点，LTC的难度就增加一些，收益就下降一些，于是矿工会转投DOG，最终达成平衡，算力各半，收益为最大化。

从市场角度上说：

假设所有市场参与者都认为在同价格的前提下要求最安全的币种（算力最大的），在同算力的情况下要求价格最低的，

但是按照电子货币的规则，单位时间内产生的币数是一定的。因此市场承接的筹码也是一定的。那么对于低价格的币种，单位时间内承接的筹码总市值低。假设此时出现了一个市场操纵行为或者是其他因素导致的上涨，那么它在指定价格上维持一定时间的流动性的难度是相对较低的（因为所需承接的总市值低）。

假设DOG从LTC的十分之一价格上升到五分之一（上涨100%），此时维持价格所需的流动性仅为LTC的五分之一。可是此时对于矿工而言，挖掘DOG的收益比LTC增大了100%，于是就会跳矿到DOG。假设全网显卡算力不变，那么理论上说跳矿会直到DOG的难度达到LTC的五分之一才停止。

而如果LTC在当前价格上是“均衡”的，由于矿工跳矿造成算力下降，安全性下降，投资者会卖出LTC，造成LTC下跌，进一步加快LTC与DOG的“均衡”。

因此，算力竞争是利于低难度小市值币种的，因为操纵小市值币种的价格很容易，电子币供给有限的情况下由于操纵或者投机完全可以维持高位一段时间，而这会造成算力从高难度大市值的币种流出，同时造成大市值币种因算力流失而下跌。最终币种之间达到均衡，低难度币种难度上升，高难度币种价格下降、难度下降，即矿工的获利程度差不多为止。

有人会说，凭什么人家去买新币种啊？ 其实对于大部分显卡币而言，需求基本都是投机需求，因为显卡币的算力之间没有形成数量级的差距，3万和9万在安全性上没有本质区别，而所谓的应用基本都没有。因此如果有两个显卡币CAT和DOG，算力都差不多，也都没有应用和推广，那价格理应也是差不多的。

有人会问，那为什么没有什么币能把比特币拉下来“均衡”呢——这个问题其实是，为什么没有SHA-256的新币？

 

####算法的黑暗森林

<img src="http://www.neverwow.com/wp-content/uploads/2013/12/bf.jpg" />

目前市场上的电子币算法主要有比特币的SHA-256，LTC等的SCRYPT和一些CPU算法，如PTS等。自从比特币成功后，币种多如牛毛，但是我们观察到一个现象，就是新币种绝大部分是显卡币，也有少数的CPU币，而几乎没有矿机币（SHA256，与比特币同算法）出现。这种情况是为什么呢？

我个人认为，关键在于上面没提到的一个问题——51%攻击。

上面的模型是假设矿工和市场都不参与攻击行为。其实在电子币的世界里攻击行为是普遍和危险的，很多新币都被扼杀在萌芽了。那么，是什么人，为什么会攻击？

我个人认为攻击者需要具备以下的要求：

1，具有足够覆盖目标51%的同算法算力。

2，较高的技术能力，要实现51%攻击需要有一定的技术门槛，特别是操纵大量显卡矿机比较困难，也许需要自设矿池。

3，提供攻击的机会成本。因为攻击行为会中断当前采矿，浪费成本且不产生收益。

那么，他们还可能具有以下的动机之一：

A：持有的币种与目标币种存在竞争，目标威胁自己存币的利益。

B：其他目的。

那么，我们来看看两种算法在这个问题上有什么区别？

从已有矿工角度看

很显然，在SHA256的宇宙里，算力绝对数量极大且相对集中，有相当多的实体持有很大的算力。且相当多的实体是企业采矿或者组团采矿，有相当的技术能力，且能负担一定的成本。

那么BTC的采矿群体里，具备1，2，3攻击能力的实体数量很多。且他们很有可能满足动机A——储存比特币，不希望新币种竞争。这样在比特币的采矿群体中，具备攻击能力和攻击动机的实体非常多。

而在Scrypt的宇宙里，算力绝对数量较小且相对分散。很多显卡挖矿是散户在操作，持有几张到几十张显卡。很多散户配置从矿池下载，不具备调试攻击代码的技术能力。

而同时挖掘LTC和其他显卡币的群体大部分都将“山寨币”随手卖掉，相对而言持有的“山寨币”数量较少，利益小于持有比特币的群体。这样在显卡币挖矿群体中，具备攻击能力和攻击动机的实体不太多。

#####从新币团队方面（防御者）看

在SHA256的宇宙里，潜在的攻击者算力极大，新币团队不太可能买相当算力的SHA256矿机保护自己的货币。如果他们有这个算力，早去挖比特币了，或者直接用这些钱买比特币，而不是投资跟买BTC一样巨大而又冒着比BTC更大的风险做新币。所以他们面对的宇宙大概是这样的：

<img src="http://www.neverwow.com/wp-content/uploads/2013/12/BTC.png" />

BTC 绿色格子为新币的算力，红色格子为现有的SHA-256算力分布

 

显然，这个新币很难生存，或者说基本上一冒头就死了。因为有相当多的比特币挖矿实体具有秒杀它的能力和动机，而其中的任何一个只要稍微动一下它就死了。

所以此时，SHA256的既有算力分布对新币形成了抑制。

这个过程类似于大刘小说里的“黑暗森林法则”：市场总量在一段时间内有限，各币种争夺流入市场的资金，（宇宙中物质总量有限，文明需求无限产生争夺）当前比特币的持有者知道低市值新币可能会快速做大，并对比特币形成向下的“均衡”，（类似于其他文明的“技术爆炸”），从而对自己的利益构成威胁。而又知道新币种的算力很小，自己的算力可以轻松消灭之，进而有动机发动51%攻击（“清理”），消灭潜在的对手。

 

而在Scrypt的宇宙里，算力绝对数量较小且较分散，新币团队搞几十张显卡问题不大，扛过前几天的攻击基本就生存下来了。而且其他的显卡矿工当发现消灭不了他们，而价格有点上涨以后，就会转投他们，反而增大了自己的算力，削弱了其他竞争币的算力。所以他们的宇宙里大概是这样的：

<img src="http://www.neverwow.com/wp-content/uploads/2013/12/LTC.png" />

LTC 绿色格子为新币的算力，蓝色格子为现有的Scrypt算力分布

 

这个新币生存的概率较大，能消灭它的算力集团实力也不是很大，况且未必也有动机。因此只要扛过初期的攻击，绿色格子长大后就不怕再被攻击了。

所以此时，显卡币的既有算力分布未对新币形成抑制，而新币长大后可能对原有币种形成抑制。

 

那么以上内容，对于一个新币团队而言肯定也是清楚的，这个世界一切都是公开的。因此新币团队只有以下几个选择：

1，发行显卡币。就是现在我们看到的这样，显卡币一大堆，谁也打不死谁。

2，选择POS机制、发行带有检查点的SHA-256，吸引淘汰的256矿机等算力。

这个选项非常吊诡，首先POS机制已经不是目前POW范畴内的东西了。人们能否接受POS机制，是另一种风险，因为POW币是通缩币，不能在这里讨论。

而检查点，等于是说我是个骗子，你们不要来了。此时没人会51%你了，但是你也不再是Decentralized Currency了，投资价值荡然无存。几乎没有成功的可能性了。 ——逻辑是，对场外的投资者而言：团队为什么要发新币？他有病吗？还不就是为了赚钱。那么检查点就意味着可能作弊，不能投。

这个选项类似于大刘在“黑暗森林”里避免被攻击的办法，把自己的光速降低，使自己对别人没有威胁了，别人自然也就不会攻击了。但是同样的自己只能等死。

 

关于Scrypt矿机：

有人说了，通过制造Scrypt币矿机可以解决这个问题，让显卡币也变成另一种矿机币，这样就可以维持LTC或者某币种的独大，消灭其他币。

据我目前的了解，Scrypt矿机的进展缓慢，没有形成有效的解决方案。而Scrypt矿机如果不能对显卡实现绝对压制（算力大100倍，节能100倍），也无从谈起消灭显卡。因为显卡不是专用设备，就算挖不了矿还可以玩游戏，对于矿工只要不是被压制得挖不到矿，其实不用把显卡折旧完的，可以挖出一大半成本以后把二手显卡卖了。而ASIC矿机挖不出矿以后就是废铁了。

所以目前ASIC方案均不理想，哪怕算力比显卡大几十倍，如果能耗没有数量级降低也是没意义的，因为矿工可以选择布置几十张显卡，挖一半把显卡卖了。而ASIC必须完全折旧才行。 而使用不节能的Scrypt矿机攻击其他显卡币也是无意义的，因为浪费的电不如用来挖矿，而你宁可把屯的LTC换成BTC，也不会浪费很多电去保卫LTC。

 

所以从上所述，是否可以认为某种意义上说，所有的Scrypt币种都是等效的，因为概率上说谁也打不死谁，谁也没有过人之处，那么随着时间推移会有无限多的显卡币出现，每种最终均衡后都不太值钱，整个显卡币盘子最终变成了一个大的通胀币。

而SHA256的比特币由于51%攻击对新来者构成威慑，从而维持唯一的地位。
