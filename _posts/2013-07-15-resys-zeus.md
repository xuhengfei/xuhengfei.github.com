---
layout: blog
title: 推荐系统之宙斯调度
category: tech
excerpt: 推荐系统的算法调度中心，维护着所有的算法，并进行有条不紊的调度
---

宙斯调度系统，是整个推荐系统的第一环，也是非常核心的一个环节。  

所有的推荐算法都汇集在这个宙斯调度系统上。  
算法工程师在宙斯系统上维护自己的算法。  
在宙斯系统上配置算法的调度周期  
复杂的算法需要将原始数据进行层层过滤与加工，通过在宙斯配置依赖关系，让这些算法像流水线一般进行作业调度。  

<img src="/assets/images/articles/2013-07-15-resys-zeus.png" />  

上图所示为宙斯调度系统的运转图  
图中的箭头与序号代表的是算法在宙斯调度系统中的启动与流转方向。  

序号一：  
调度内核根据配置好的调度规则，再某个时间或者成熟的时机下，触发算法启动  
在分布式环境下，调度内核根据某种算法，选取一台worker服务器，执行算法任务  

序号二：  
worker服务器向云梯提交Hadoop Job任务  

序号三：  
Hadoop集群将运算结果返回给worker服务器  

序号四：  
worker服务器将算法任务的执行结果返回给调度内核  

序号五：  
调度内核将算法运行结果发送给 协同通知 模块  

序号六：  
协同通知 模块，主要用于与宙斯之外的系统进行协同配合，实现不同系统之间的无缝衔接。  
此处将算法任务的成功失败信息写入ZooKeeper系统  

序号七：  
Treasure系统在ZooKeeper上注册  
当ZooKeeper上有节点更新时，获取到最新的节点更新信息，从而获取到宙斯的算法任务的运行结果  

上述步骤的流转，仅仅是针对一个简单算法任务的举例说明  
实际工作中我们的算法步骤要复杂的多，会有多层依赖，多个输入依赖等等。  
宙斯系统支持所有复杂关系的调度，整体原理则如上所述  

目前的宙斯调度系统已经在github上开源，有兴趣的可以跳转 [开源zeus](https://github.com/alibaba/zeus) 了解更多内容  


下一篇讲解一下Treasure KV服务器